{"componentChunkName":"component---src-templates-blog-post-js","path":"/opaque-type/","result":{"data":{"site":{"siteMetadata":{"title":"ê¸€ê° ì €ì¥ì†Œ"}},"markdownRemark":{"id":"bcfb7921-d0ed-572e-bf29-e7448e22a5c5","excerpt":"Opaque Type SwiftUI ë¥¼ ì‚´í´ë³´ë˜ ì¤‘ ì²˜ìŒ ë³´ëŠ” í‚¤ì›Œë“œë¥¼ ë°œê²¬í•˜ê²Œ ë˜ì—ˆë‹¤. ì˜¤ëŠ˜ì˜ ì£¼ì¸ê³µì¸  ì´ ë¬´ì—‡ì¸ì§€ ì‚´í´ë³´ê³ ì í•œë‹¤. Swift ê³µì‹ ë¬¸ì„œì— ë”°ë¥´ë©´  ì€  ì´ë¼ëŠ” ë¬¸ë²•ìœ¼ë¡œ ì†Œê°œë˜ì–´ ìˆë‹¤. A function or method with an opaque returnâ€¦","html":"<h1>Opaque Type</h1>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token class-name\">SwiftUI</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">ContentView</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">View</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> body<span class=\"token punctuation\">:</span> <span class=\"token keyword\">some</span> <span class=\"token class-name\">View</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// Some??</span>\n      <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"Hello World!\"</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>SwiftUI ë¥¼ ì‚´í´ë³´ë˜ ì¤‘ ì²˜ìŒ ë³´ëŠ” í‚¤ì›Œë“œë¥¼ ë°œê²¬í•˜ê²Œ ë˜ì—ˆë‹¤. ì˜¤ëŠ˜ì˜ ì£¼ì¸ê³µì¸ <code class=\"language-text\">some</code> ì´ ë¬´ì—‡ì¸ì§€ ì‚´í´ë³´ê³ ì í•œë‹¤.</p>\n<p><a href=\"https://docs.swift.org/swift-book/LanguageGuide/OpaqueTypes.html\">Swift ê³µì‹ ë¬¸ì„œ</a>ì— ë”°ë¥´ë©´ <code class=\"language-text\">some</code> ì€ <code class=\"language-text\">Opaque Type</code> ì´ë¼ëŠ” ë¬¸ë²•ìœ¼ë¡œ ì†Œê°œë˜ì–´ ìˆë‹¤.</p>\n<blockquote>\n<p>A function or method with an opaque return type hides its return valueâ€™s type information.</p>\n</blockquote>\n<p>ë¨¸ë¦¿ë§ì„ í•´ì„í•´ë³´ìë©´ <code class=\"language-text\">Opaque Type</code> ì„ ë°˜í™˜ íƒ€ì…(return type)ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ ë˜ëŠ” ë©”ì†Œë“œëŠ” ë°˜í™˜ ê°’ì˜ íƒ€ì… ì •ë³´ë¥¼ ê°ì¶œ ìˆ˜ ìˆë‹¤ê³  ì“°ì—¬ìˆë‹¤.</p>\n<p>ì„¤ëª…í•˜ê¸°ì— ì•ì„œ ë¬¸ì œ ìƒí™©ì„ í•˜ë‚˜ ë§Œë‚˜ë³´ì.</p>\n<h3>ë² ì´ìŠ¤ ì½”ë“œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">struct</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Equatable</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.0</span>\n  <span class=\"token keyword\">var</span> y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.0</span>\n\n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">(</span>lhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">,</span> rhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Bool</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> lhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">&amp;&amp;</span> lhs<span class=\"token punctuation\">.</span>y <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>y\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function-definition function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Point</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> point1 <span class=\"token operator\">=</span> <span class=\"token function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> point2 <span class=\"token operator\">=</span> <span class=\"token function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>point1 <span class=\"token operator\">==</span> point2<span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>ì˜ˆì œë¡œ ì‚¬ìš©í•  ë² ì´ìŠ¤ ì½”ë“œë‹¤. <code class=\"language-text\">Point</code>ë¥¼ ìƒì„±í•´ ë°˜í™˜í•˜ëŠ” <code class=\"language-text\">createPoint</code> í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆë‹¤. ì´ í•¨ìˆ˜ì˜ í—¤ë” ë¶€ë¶„ì„ ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´ ë°˜í™˜ íƒ€ì…ì€ <code class=\"language-text\">Point</code> ë¡œ êµ¬ì²´ íƒ€ì…ì„ ë°˜í™˜í•˜ë„ë¡ ëª…ì‹œë˜ì–´ ìˆë‹¤.</p>\n<p><code class=\"language-text\">Equable</code> í”„ë¡œí† ì½œì„ ì±„íƒí•˜ê³  ìˆì–´ <code class=\"language-text\">point1</code> ê³¼ <code class=\"language-text\">point2</code> ëŠ” ë¹„êµ ì—°ì‚°ì„ í•  ìˆ˜ ìˆë‹¤.</p>\n<h3>ì½”ë“œ í™•ì¥</h3>\n<p>ë§Œì•½ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ Point ë¥¼ ë§Œë“œëŠ” ê²½ìš°ê°€ ìƒê¸´ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? ì˜ˆë¥¼ ë“¤ì–´, 3ì°¨ì› ì¢Œí‘œë¥¼ í‘œí˜„í•˜ëŠ” ì¢Œí‘œë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ì€ ê²½ìš°ë¥¼ ìƒê°í•´ë³¼ ìˆ˜ ìˆë‹¤. í”„ë¡œí† ì½œì„ ì´ìš©í•´ ì¶”ìƒí™”í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">protocol</span> <span class=\"token class-name\">EquatablePoint</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Equatable</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">var</span> y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">extension</span> <span class=\"token class-name\">EquatablePoint</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">(</span>lhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">,</span> rhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Bool</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> lhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">&amp;&amp;</span> lhs<span class=\"token punctuation\">.</span>y <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>y\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">EquatablePoint</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">ThreeDimensionalPoint</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">EquatablePoint</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.0</span>\n  <span class=\"token keyword\">var</span> y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.0</span>\n  <span class=\"token keyword\">var</span> z<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">(</span>lhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">,</span> rhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Bool</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> lhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">&amp;&amp;</span> lhs<span class=\"token punctuation\">.</span>y <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&amp;&amp;</span> lhs<span class=\"token punctuation\">.</span>z <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>z\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">Equatable</code> ë¥¼ ì±„íƒí•œ <code class=\"language-text\">EquatablePoint</code> í”„ë¡œí† ì½œì„ ë§Œë“¤ì–´ í•œ ë‹¨ê³„ ì¶”ìƒí™”í–ˆê³  <code class=\"language-text\">Point</code>, <code class=\"language-text\">ThreeDimensionalPoint</code> ëª¨ë‘ ê°™ì€ í”„ë¡œí† ì½œì„ ì±„íƒí•œë‹¤. ìƒˆë¡œ ë§Œë“  êµ¬ì¡°ì²´ëŠ” 3ì°¨ì› ì¢Œí‘œ í‘œí˜„ì„ ìœ„í•´ <code class=\"language-text\">z</code> ì†ì„±ì´ ì¶”ê°€ë˜ì—ˆë‹¤.</p>\n<p>ì•„, ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ì œ ë‘ ì¢…ë¥˜ì˜ ì¢Œí‘œê°€ ìƒê²¼ìœ¼ë‹ˆ íŒ©í† ë¦¬ë¥¼ ë§Œë“¤ì–´ ì¢Œí‘œë¥¼ ì‰½ê²Œ ë§Œë“¤ì–´ë³´ì.</p>\n<h3>ë¬¸ì œ ìƒí™©</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">enum</span> <span class=\"token class-name\">PointFactory</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token nil constant\">nil</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">EquatablePoint</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* ğŸš¨ ERROR!\n      Protocol 'EquatablePoint' can only be used as a generic constraint\n      because it has Self or associated type requirements\n    */</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> z <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token class-name\">ThreeDimensionalPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> z<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë¬¸ì œê°€ ìƒê²¼ë‹¤. <code class=\"language-text\">Equatable</code> í”„ë¡œí† ì½œì€ <code class=\"language-text\">Self</code> ë¥¼ ì‚¬ìš©í•´ <code class=\"language-text\">==</code> ë©”ì†Œë“œì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ì¶”ë¡ í•˜ê¸° ë•Œë¬¸ì— í”„ë¡œí† ì½œë§Œìœ¼ë¡œëŠ” í•´ë‹¹ íƒ€ì…ì´ ë¬´ì—‡ì¸ì§€ ì¶”ë¡ í•  ìˆ˜ ì—†ì–´ ë¦¬í„´ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/68526a852cffc3e67a2fdae410dde3a3/6569d/equatable.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15.822784810126581%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnUlEQVQI102MwW7CMBAF8zVtKEkce53NmtiOIOWA4P9/Z1AjRDmMNO8wr3nMV266sYVK1o1a7qzlQbJfOhf5bocP+hf/+6vtaQ/u7c3xxzM74yIr6hJFKkso2HjCxkTvIhITIongTwS/EIIRxHafYuXYeSRkohSawSs2GNd43o+LX8jj8vKMG5VZM7P+xeseTTG9t06VbhBMz5heeAJhY2CiDECiWQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Chinese Salty Egg\"\n        title=\"Chinese Salty Egg\"\n        src=\"/static/68526a852cffc3e67a2fdae410dde3a3/f058b/equatable.png\"\n        srcset=\"/static/68526a852cffc3e67a2fdae410dde3a3/c26ae/equatable.png 158w,\n/static/68526a852cffc3e67a2fdae410dde3a3/6bdcf/equatable.png 315w,\n/static/68526a852cffc3e67a2fdae410dde3a3/f058b/equatable.png 630w,\n/static/68526a852cffc3e67a2fdae410dde3a3/40601/equatable.png 945w,\n/static/68526a852cffc3e67a2fdae410dde3a3/78612/equatable.png 1260w,\n/static/68526a852cffc3e67a2fdae410dde3a3/6569d/equatable.png 1328w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ë”°ë¼ì„œ í”„ë¡œí† ì½œì´ <code class=\"language-text\">associated type</code> ì„ ê°€ì§€ê±°ë‚˜ ì •ì˜ëœ ë©”ì†Œë“œì˜ ë§¤ê°œë³€ìˆ˜, ë¦¬í„´ íƒ€ì…ìœ¼ë¡œ <code class=\"language-text\">Self</code> ê°€ ì‚¬ìš©ë˜ë©´ ìœ„ì˜ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ì—ëŸ¬ê°€ ë°œìƒí–ˆìœ¼ë‹ˆ <code class=\"language-text\">Point</code>ì™€ <code class=\"language-text\">ThreeDimensionalPoint</code>ë¥¼ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œë¥¼ ê°ê° ë§Œë“¤ê³  ë¦¬í„´ íƒ€ì…ì„ êµ¬ì²´ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•˜ëŠ” ê²ƒì´ ìœ ì¼í•œ í•´ê²°ë°©ë²•ì¼ê¹Œ?</p>\n<p>ì•„ë‹ˆë‹¤. ìš°ë¦¬ì—ê² êµ¬ì›íˆ¬ìˆ˜ê°€ ë‚¨ì•„ìˆë‹¤.</p>\n<h3>Opaque Type comes into play</h3>\n<p>ì´ ê¸€ì˜ ë¨¸ë¦¿ë§ì—ì„œ <code class=\"language-text\">Opaque Type</code> ì„ ë°˜í™˜ íƒ€ì…(return type)ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ ë˜ëŠ” ë©”ì†Œë“œëŠ” ë°˜í™˜ ê°’ì˜ íƒ€ì… ì •ë³´ë¥¼ ê°ì¶œ ìˆ˜ ìˆë‹¤ê³  ì–¸ê¸‰í–ˆë‹¤.</p>\n<p>ì—¬ê¸°ì„œ íƒ€ì… ì •ë³´ë¥¼ ê°ì¶˜ë‹¤ëŠ” ì˜ë¯¸ëŠ” ë³¸ë˜ êµ¬ì²´íƒ€ì… ì •ë³´ëŠ” ê·¸ëŒ€ë¡œ ë³´ì¡´í•œ ìƒíƒœë¡œ ì™¸ë¶€ì—ëŠ” ìì‹ ì˜ íƒ€ì…ì„ í”„ë¡œí† ì½œë¡œ ë…¸ì¶œ ì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ë‹¤. ì½”ë“œë¡œ ì‚´í´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">some</span> <span class=\"token class-name\">EquatablePoint</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë¦¬í„´ íƒ€ì… ì•ì— <code class=\"language-text\">Opaque Type</code> ì„ ì˜ë¯¸í•˜ëŠ” <code class=\"language-text\">some</code> ì„ ë¶™ì˜€ë‹¤. ì¢€ ì „ì— ë³´ì•˜ë˜ ì—ëŸ¬ê°€ ë³´ì´ì§€ ì•Šì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì•ì „ì— <code class=\"language-text\">Equatable</code> í”„ë¡œí† ì½œì€ <code class=\"language-text\">Self</code> ë¥¼ ì‚¬ìš©í•´ <code class=\"language-text\">==</code> ë©”ì†Œë“œì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ì¶”ë¡ í•˜ê¸° ë•Œë¬¸ì— í”„ë¡œí† ì½œë§Œìœ¼ë¡œëŠ” í•´ë‹¹ íƒ€ì…ì´ ë¬´ì—‡ì¸ì§€ ì¶”ë¡ í•  ìˆ˜ ì—†ì–´ ë¦¬í„´ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ê³  ë§í–ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì§€ê¸ˆì€ ì™œ ë¬¸ì œê°€ ì—†ë‹¤ê³  í•˜ëŠ” ê±¸ê¹Œ?</p>\n<p><code class=\"language-text\">Opaque Type</code> ë¥¼ ì‚¬ìš©í•˜ë©´ <code class=\"language-text\">createPoint</code> í•¨ìˆ˜ì˜ ë¦¬í„´ ê°’ì€ ì‚¬ìš©ìì¸ ê°œë°œìì—ê²Œ <code class=\"language-text\">EquatablePoint</code> ë¡œ ë…¸ì¶œëœë‹¤. ê·¸ëŸ¬ë‚˜ ì»´íŒŒì¼ëŸ¬ëŠ” ì‹¤ì œ ë¦¬í„´ ê°’ì´ <code class=\"language-text\">Point</code> êµ¬ì¡°ì²´ì¸ ê²ƒì„ ì•Œê³  ìˆë‹¤. ë•Œë¬¸ì— <code class=\"language-text\">Equatable</code> í”„ë¡œí† ì½œì˜ <code class=\"language-text\">Self</code> ê°€ <code class=\"language-text\">Point</code> ì„ì„ ì•Œê³  ìˆë‹¤ëŠ” ëœ»ì´ë‹¤.</p>\n<p>ë¬´ì–¸ê°€ë¥¼ ê°ì¶˜ë‹¤ëŠ” ì˜ë¯¸ëŠ” ê°ì¶”ëŠ” ëˆ„êµ°ê°€ëŠ” ê°ì¶˜ ê²ƒì´ ë¬´ì—‡ì¸ì§€ ì•Œê³  ìˆë‹¤ëŠ” ì˜ë¯¸ë„ ë‚´í¬í•œë‹¤. ì—¬ê¸°ì„œ íƒ€ì… ì •ë³´ë¥¼ ê°ì¶”ëŠ” ì»´íŒŒì¼ëŸ¬ëŠ” ì‹¤ì œ íƒ€ì… ì •ë³´ë¥¼ ì•Œê³  ìˆê³  ì»´íŒŒì¼ëŸ¬ê°€ ê°ì¶˜ íƒ€ì…ì€ ê°œë°œìëŠ” ë³¼ ìˆ˜ ì—†ë‹¤.</p>\n<p>ì‹¤ì œ í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">let</span> point1 <span class=\"token operator\">=</span> <span class=\"token function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> point2 <span class=\"token operator\">=</span> <span class=\"token function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> point3 <span class=\"token operator\">=</span> <span class=\"token function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>point1 <span class=\"token operator\">==</span> point2<span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>point2 <span class=\"token operator\">==</span> point3<span class=\"token punctuation\">)</span> <span class=\"token comment\">// false</span></code></pre></div>\n<p><ins><code class=\"language-text\">Opaque Type</code> ì˜ ì¥ì ì€ <code class=\"language-text\">Self</code>, <code class=\"language-text\">associated type</code> ì„ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí† ì½œì„ ë¦¬í„´ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì´ê²ƒì˜ ì˜ë¯¸ëŠ” í•´ë‹¹ í”„ë¡œí† ì½œì˜ ê¸°ëŠ¥ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ë‹¤.</ins></p>\n<p>íŒ©í† ë¦¬ë¥¼ ìˆ˜ì •í•´ë³´ì.</p>\n<h3>ë¬¸ì œ ìƒí™©.2</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">enum</span> <span class=\"token class-name\">PointFactory</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token nil constant\">nil</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">some</span> <span class=\"token class-name\">EquatablePoint</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* ğŸš¨ ERROR!\n      Function declares an opaque return type,\n      but the return statements in its body do not have matching underlying types\n    */</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> z <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token class-name\">ThreeDimensionalPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> z<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">createPoint</code> í•¨ìˆ˜ì˜ ê²½ìš°ì²˜ëŸ¼ <code class=\"language-text\">some</code> ì¶”ê°€í–ˆëŠ”ë° ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ ì˜ ìƒê°í•´ë³´ì.</p>\n<p><code class=\"language-text\">Opaque Type</code> ì€ íƒ€ì… ì •ë³´ë¥¼ ê°ì¶œ ë¿ì´ì§€ íƒ€ì… ì •ë³´ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ì‹œí‚¤ëŠ” íƒ€ì…ì´ë‹¤. ë”°ë¼ì„œ í˜„ì¬ <code class=\"language-text\">createPoint</code> ë©”ì†Œë“œëŠ” ë‘ ê°€ì§€ íƒ€ì…ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. Swift ëŠ” ê°•íƒ€ì… ì–¸ì–´ì´ë‹¤. ë•Œë¬¸ì— í•˜ë‚˜ì˜ í•¨ìˆ˜ê°€ ì—¬ëŸ¬ ì¢…ë¥˜ì˜ íƒ€ì…ì„ ë¦¬í„´í•  ìˆ˜ ì—†ë‹¤. ì˜¤ì§ í•˜ë‚˜ì˜ íƒ€ì…ì„ ë¦¬í„´ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">enum</span> <span class=\"token class-name\">PointFactory</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">some</span> <span class=\"token class-name\">EquatablePoint</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">some</span> <span class=\"token class-name\">EquatablePoint</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ThreeDimensionalPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> z<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í•¨ìˆ˜ì˜ <code class=\"language-text\">Overloading</code> ì„ ì‚¬ìš©í•´ ê°ê° í•œ ê°€ì§€ íƒ€ì…ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ë¡œ ë¶„ë¦¬í–ˆë‹¤. ë¹„êµ ì—°ì‚°ì„ í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">\n<span class=\"token comment\">// ì•„ë˜ ì‹±ìˆ˜ì˜ íƒ€ì…ì€ ëª¨ë‘ some EquatablePoint ì´ë‹¤.</span>\n<span class=\"token keyword\">let</span> threeDimensionalPoint1 <span class=\"token operator\">=</span> <span class=\"token class-name\">PointFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> threeDimensionalPoint2 <span class=\"token operator\">=</span> <span class=\"token class-name\">PointFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> threeDimensionalPoint3 <span class=\"token operator\">=</span> <span class=\"token class-name\">PointFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">createPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>threeDimensionalPoint1 <span class=\"token operator\">==</span> threeDimensionalPoint2<span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>threeDimensionalPoint2 <span class=\"token operator\">==</span> threeDimensionalPoint3<span class=\"token punctuation\">)</span> <span class=\"token comment\">// false</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token comment\">// Point</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">(</span>lhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">,</span> rhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Bool</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> lhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">&amp;&amp;</span> lhs<span class=\"token punctuation\">.</span>y <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>y\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ThreeDimensionalPoint</span>\n<span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">(</span>lhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">,</span> rhs<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Bool</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> lhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>x <span class=\"token operator\">&amp;&amp;</span> lhs<span class=\"token punctuation\">.</span>y <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&amp;&amp;</span> lhs<span class=\"token punctuation\">.</span>z <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>z\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë²ˆì—ëŠ” <code class=\"language-text\">ThreeDimensionalPoint</code> ë¥¼ ë§Œë“¤ì–´ ë¹„êµ ì—°ì‚°ì„ í•´ë³´ì•˜ë‹¤. ê·¸ëŸ°ë° <code class=\"language-text\">Point</code>, <code class=\"language-text\">ThreeDimensionalPoint</code> êµ¬ì¡°ì²´ ëª¨ë‘ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ <code class=\"language-text\">==</code> ë©”ì†Œë“œë¥¼ êµ¬í˜„í–ˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ê¸°ì–µí•´ì£¼ê¸¸ ë°”ë€ë‹¤. ì„œë¡œ ë‹¤ë¥¸ êµ¬í˜„ì„ ê°€ì§€ê³  ìˆì§€ë§Œ ì»´íŒŒì¼ëŸ¬ëŠ” <code class=\"language-text\">Opaque Type</code> ì•„ë˜ ê°ì¶°ì§„ êµ¬ì²´ íƒ€ì… ì •ë³´ë¥¼ ì•Œê³  ìˆë‹¤. ë•Œë¬¸ì— ê°ì¶”ì–´ì§„ íƒ€ì…ì´ ê°€ì§„ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤.</p>\n<p>ë”°ë¼ì„œ <code class=\"language-text\">ThreeDimensionalPoint</code> ì—ì„œ êµ¬í˜„ëœ <code class=\"language-text\">==</code> ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤.</p>\n<h3>ì´ê²Œ ì „ë¶€ì¸ê°€?</h3>\n<p><code class=\"language-text\">Opaque Type</code> ì„ ì‚¬ìš©í•˜ë©´ ì œí•œ ë˜ì—ˆë˜ í”„ë¡œí† ì½œì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤ëŠ” ê±´ ì´í•´í–ˆì„ ê²ƒì´ë‹¤. ê·¸ëŸ¼ <ins><code class=\"language-text\">Self</code> ë‚˜ <code class=\"language-text\">associated type</code> ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”„ë¡œí† ì½œë§Œ ì‚¬ìš©í•  ê²½ìš°ì—ëŠ” êµ³ì´ ì‚¬ìš©í•  í•„ìš”ê°€ ìˆì„ê¹Œ?</ins></p>\n<p>ì•„ë‹ˆë‹¤. <code class=\"language-text\">Opaque Type</code> ì˜ ê°€ì¥ í° ì¥ì ì„ ì†Œê°œí•˜ê² ë‹¤.</p>\n<h3>Transformation</h3>\n<p><code class=\"language-text\">Opaque Type</code> ì„ ì‚¬ìš©í•˜ë©´ êµ¬ì²´ íƒ€ì…ì€ ê·¸ëŒ€ë¡œ ë³´ì¡´ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ ê¸°ì–µí•´ì£¼ê¸¸ ë°”ë€ë‹¤.</p>\n<p>ì—¬ê¸°ì„œ êµ¬ì²´ íƒ€ì…ì´ë€ ê²°êµ­ íŠ¹ì • í”„ë¡œí† ì½œì„ ì±„íƒí•œ íƒ€ì…ì„ ì˜ë¯¸í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ íŠ¹ì • í”„ë¡œí† ì½œì„ ì±„íƒí•œ íƒ€ì…ì„ ì¸ìë¡œ í•˜ëŠ” í•¨ìˆ˜ì— ì „ë‹¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.</p>\n<p><ins><strong><em>í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ íŠ¹ì • í”„ë¡œí† ì½œì„ ì±„íƒí•œ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•˜ëŠ” ê²ƒê³¼ í”„ë¡œí† ì½œë¡œ ì§€ì •í•˜ëŠ” ê²ƒì—ëŠ” í° ì°¨ì´ê°€ ìˆë‹¤.</em></strong></ins></p>\n<p>ì½”ë“œë¥¼ ì‚´í´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">protocol</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">String</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">Triangle</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string-literal\"><span class=\"token string\">\"\"\"\n           *\n           **\n           ***\n           \"\"\"</span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">FlippedShape</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Shape</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> shape<span class=\"token punctuation\">:</span> <span class=\"token class-name\">T</span>\n  <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> lines <span class=\"token operator\">=</span> shape<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span>separator<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"\\n\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> lines<span class=\"token punctuation\">.</span><span class=\"token function\">reversed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">joined</span><span class=\"token punctuation\">(</span>separator<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"\\n\"</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> triangle <span class=\"token operator\">=</span> <span class=\"token class-name\">Triangle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Type is Triangle</span>\n<span class=\"token keyword\">let</span> flippedShape <span class=\"token operator\">=</span> <span class=\"token class-name\">FlippedShape</span><span class=\"token punctuation\">(</span>shape<span class=\"token punctuation\">:</span> triangle<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Type is FlippedShape&lt;Triangle></span></code></pre></div>\n<p><code class=\"language-text\">Triangle</code>, <code class=\"language-text\">FlippedShape</code> ëª¨ë‘ Shape í”„ë¡œí† ì½œì„ ì±„íƒí•˜ê³  ìˆë‹¤.</p>\n<h3>Case.1 ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì´ í”„ë¡œí† ì½œì¸ ê²½ìš°</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">flip</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> shape<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Shape</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">some</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* ğŸš¨ ERROR!\n   Protocol 'Shape' as a type cannot conform to the protocol itself\n  */</span>\n  <span class=\"token keyword\">return</span> <span class=\"token class-name\">FlippedShape</span><span class=\"token punctuation\">(</span>shape<span class=\"token punctuation\">:</span> shape<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> triangle <span class=\"token operator\">=</span> <span class=\"token class-name\">Triangle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> flippedTriangle <span class=\"token operator\">=</span> <span class=\"token function\">flip</span><span class=\"token punctuation\">(</span>triangle<span class=\"token punctuation\">)</span> <span class=\"token comment\">// ğŸš¨ ERROR!</span></code></pre></div>\n<p>ì—ëŸ¬ ë©”ì‹œì§€ì— <code class=\"language-text\">Shape as a type</code> ë¼ê³  ì–¸ê¸‰ëœ ê²ƒì²˜ëŸ¼ ë§¤ê°œë³€ìˆ˜ shape ì€ <code class=\"language-text\">Shape</code> í”„ë¡œí† ì½œì„ ì±„íƒí•œ íƒ€ì…ì„ ì˜ë¯¸í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, Shape ì´ë¼ëŠ” í”„ë¡œí† ì½œ íƒ€ì…ì„ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ìœ¼ë¡œ ì •í–ˆë‹¤ëŠ” ê²ƒì´ë‹¤.</p>\n<ul>\n<li>ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì„ Int, String, Bool ë¡œ ì§€ì •í•˜ëŠ” ê²ƒì²˜ëŸ¼ í”„ë¡œí† ì½œì´ë¼ëŠ” íƒ€ì…ìœ¼ë¡œ ì§€ì •í–ˆì„ ë¿ì´ë‹¤.</li>\n</ul>\n<p>ë°˜ë©´, FlippedShape êµ¬ì¡°ì²´ì˜ ë§¤ê°œë³€ìˆ˜ëŠ” Shape í”„ë¡œí† ì½œì„ ì±„íƒí•œ íƒ€ì…ì„ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸ì— ë‘ íƒ€ì…ì´ ê°™ì§€ ì•Šë‹¤.</p>\n<h3>Case.2 ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì´ ì œë„ˆë¦­ì¸ ê²½ìš°</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">flip</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Shape</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> shape<span class=\"token punctuation\">:</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">some</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token class-name\">FlippedShape</span><span class=\"token punctuation\">(</span>shape<span class=\"token punctuation\">:</span> shape<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> triangle <span class=\"token operator\">=</span> <span class=\"token class-name\">Triangle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> flippedTriangle <span class=\"token operator\">=</span> <span class=\"token function\">flip</span><span class=\"token punctuation\">(</span>triangle<span class=\"token punctuation\">)</span> <span class=\"token comment\">// âœ…</span>\nflippedTriangle<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// ***</span>\n<span class=\"token comment\">// **</span>\n<span class=\"token comment\">// *</span></code></pre></div>\n<p>ì œë„ˆë¦­ì„ ì‚¬ìš©í•˜ë©´ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì„ í”„ë¡œí† ì½œì„ ì±„íƒí•œ íƒ€ì…ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.</p>\n<h2>TL;DR</h2>\n<ol>\n<li><code class=\"language-text\">Opaque Type</code> ì€ í•¨ìˆ˜ì™€ ë©”ì†Œë“œ ë¦¬í„´ ê°’ì˜ íƒ€ì… ì •ë³´ë¥¼ ê°ì¶”ì§€ë§Œ ë³¸ë˜ì˜ íƒ€ì… ì •ë³´ë¥¼ ë³´ì¡´í•œë‹¤.\n<ul>\n<li>í´ë¼ì´ì–¸íŠ¸ëŠ” ê°ì¶°ì§„ íƒ€ì… ì •ë³´ì— ì ‘ê·¼í•  ìˆ˜ ì—†ì§€ë§Œ ì»´íŒŒì¼ëŸ¬ëŠ” ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n</li>\n<li><a href=\"https://docs.swift.org/swift-book/LanguageGuide/OpaqueTypes.html#ID614\">êµ¬ì²´ íƒ€ì…ì´ ë³´ì¡´ë˜ì–´ìˆê¸° ë•Œë¬¸ì— <code class=\"language-text\">Self</code>, <code class=\"language-text\">associated type</code> ì„ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí† ì½œë„ ë¦¬í„´ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</a></li>\n<li>3 ì˜ ê²½ìš° íƒ€ì…ìºìŠ¤íŒ…ì„ í•˜ì§€ ì•Šê³  í•´ë‹¹ í”„ë¡œí† ì½œì˜ ê¸°ëŠ¥ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>\n<li><a href=\"https://docs.swift.org/swift-book/LanguageGuide/OpaqueTypes.html#ID615\">í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì´ íŠ¹ì • í”„ë¡œí† ì½œì„ ì±„íƒí•œ íƒ€ì…ì¸ ê²½ìš° <code class=\"language-text\">Opaque Type</code> ì„ ì¸ìë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</a>\n<ul>\n<li>ë°˜ë©´, ì „ë‹¬í•˜ê³ ìí•˜ëŠ” ì¸ìì˜ íƒ€ì…ì´ í”„ë¡œí† ì½œì¸ ê²½ìš°ì—ëŠ” ì „ë‹¬í•  ìˆ˜ ì—†ë‹¤.</li>\n</ul>\n</li>\n</ol>","frontmatter":{"title":"Opaque Type ì´ë€?","date":"May 08, 2022","description":"Opaque Type ì„ ë°˜í™˜ íƒ€ì…(return type)ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ ë˜ëŠ” ë©”ì†Œë“œëŠ” ë°˜í™˜ ê°’ì˜ íƒ€ì… ì •ë³´ë¥¼ ê°ì¶œ ìˆ˜ ìˆë‹¤ê³  ì“°ì—¬ìˆë‹¤."}},"previous":{"fields":{"slug":"/new-beginnings/"},"frontmatter":{"title":"New Beginnings"}},"next":null},"pageContext":{"id":"bcfb7921-d0ed-572e-bf29-e7448e22a5c5","previousPostId":"3d0207c0-91da-5ee0-92d9-198256227d25","nextPostId":null}},"staticQueryHashes":["2841359383","3257411868"]}